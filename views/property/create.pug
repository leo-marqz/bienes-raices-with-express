
extends ../layouts/index

block styles 
    link(rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css")

block content
    div(class='py-10')
        h1(class='text-4xl my-10 font-extrabold text-center') Bienes 
            span(class='font-normal') Raices
        h2(class='text-center text-2xl font-extrabold')= page 

        div(class='bg-white shadow py-8 px-4 rounded mx-auto max-w-4xl my-10 md:px-10')
            form(action='' method='POST' class='space-y-8')
                div(class='space-y-5')
                    h3(class='text-lg leading-6 font-medium text-gray-900') Informacion General
                    p(class='text-gray-600') Ingresa informacion sobre la propiedad en venta

                    input(type='hidden', name='_csrf', value=csrfToken)
                    div
                        label(for='title' class='block text-sm uppercase text-gray-600 mb-2 font-bold') Titulo de Anuncio
                        input(
                            type="text", 
                            name='title', 
                            id='title', 
                            placeholder='Ingresa el titulo de tu anuncio'
                            class='w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400',
                        ) 
                    
                    div
                        label(for='description' class='block text-sm uppercase text-gray-600 mb-2 font-bold') Descripcion
                        textarea(
                            name="description" 
                            id="description" 
                            class="w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400"
                            placeholder="Ingresa la descripcion de tu propiedad" 
                            )  
                    
                    div(class='md:flex md:gap-4  space-y-5 md:space-y-0')
                        div(class='md:w-1/2')
                            label(for='category' class='block text-sm uppercase text-gray-600 mb-2 font-bold') Categoria
                            select(
                                name='category', 
                                id='category', 
                                class='w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400',
                            ) 
                                option() --- Seleccione ---
                                each category in categories
                                    option(value=category.id)= category.name
                        
                        div(class='md:w-1/2')
                            label(for='price' class='block text-sm uppercase text-gray-600 mb-2 font-bold') Precio
                            select(
                                name='price', 
                                id='price', 
                                class='w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400',
                            ) 
                                option() --- Seleccione ---
                                each price in prices
                                    option(value=price.id)= price.name

                    div(class='md:flex md:gap-4  space-y-5 md:space-y-0')
                        div(class='md:w-1/3')
                            label(for='rooms' class='block text-sm uppercase text-gray-600 mb-2 font-bold') Habitaciones
                            select(
                                name='rooms', 
                                id='rooms', 
                                class='w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400',
                            ) 
                                option(value='') --- Seleccione ---
                                - let nrooms = 1;
                                    while nrooms <= 10
                                        option(value=nrooms) #{nrooms++}
                        
                        div(class='md:w-1/3')
                            label(for='parking' class='block text-sm uppercase text-gray-600 mb-2 font-bold') Estacionamiento
                            select(
                                name='parking', 
                                id='parking', 
                                class='w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400',
                            ) 
                                option(value='') --- Seleccione ---
                                - let nparking = 1;
                                    while nparking <= 4
                                        option(value=nparking) #{nparking++}
                        
                        div(class='md:w-1/3')
                            label(for='price' class='block text-sm uppercase text-gray-600 mb-2 font-bold') WC
                            select(
                                name='wc', 
                                id='wc', 
                                class='w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400',
                            ) 
                                option(value='') --- Seleccione ---
                                - let nwc = 1;
                                    while nwc <= 4
                                        option(value=nwc) #{nwc++}

                    div(class='border-gray-200 border-t py-5 space-y-5')
                        h3(class='text-lg leading-6 font-medium text-gray-900') Ubicacion
                        p(class='text-gray-600') Ubica la propiedad en el mapa
                    
                        div(id='maps' class='h-72')

                        div(class='')
                            p( class='street')

                            input(type='hidden', name='street', id='street')
                            input(type='hidden', name='lat', id='lat')
                            input(type='hidden', name='lng', id='lng')


block scripts 
    script(src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js")
    script(src="https://unpkg.com/esri-leaflet@3.0.8/dist/esri-leaflet.js")
    script(src="https://unpkg.com/esri-leaflet-geocoder@2.2.13/dist/esri-leaflet-geocoder.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-geosearch/2.7.0/bundle.min.js")
    script(src="/js/map.js")